{"version":3,"file":"bundle.umd.js","sources":["gunLink.js"],"sourcesContent":["import { ApolloLink, Observable } from \"apollo-link\";\nimport graphqlGun from \"graphql-gun\";\nexport class GunLink extends ApolloLink {\n    constructor({ schema, gun }) {\n        super();\n        this.schema = schema;\n        this.gun = gun;\n    }\n    request(operation) {\n        return new Observable(observer => {\n            async () => {\n                // TODO: check schema\n                try {\n                    for await (const data of graphqlGun(operation.query, this.gun)) {\n                        if (!observer.closed) {\n                            observer.next({ data });\n                        }\n                    }\n                    observer.complete();\n                }\n                catch (e) {\n                    if (!observer.closed) {\n                        observer.error(e);\n                    }\n                }\n            };\n        });\n    }\n}\nexport default GunLink;\n"],"names":["ApolloLink","Observable"],"mappings":";;;;;;;;IAEO,MAAM,OAAO,SAASA,qBAAU,CAAC;IACxC,IAAI,WAAW,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE;IACjC,QAAQ,KAAK,EAAE,CAAC;IAChB,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IAC7B,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACvB,KAAK;IACL,IAAI,OAAO,CAAC,SAAS,EAAE;IACvB,QAAQ,OAAO,IAAIC,qBAAU,CAAC,QAAQ,IAAI;AAC1C,IAgBA,SAAS,CAAC,CAAC;IACX,KAAK;IACL,CAAC;;;;;;;;;;;;"}